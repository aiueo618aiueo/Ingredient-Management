{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\riku3\\\\OneDrive\\\\\\u30C7\\u30B9\\u30AF\\u30C8\\u30C3\\u30D7\\\\\\u30A2\\u30D7\\u30EA\\u958B\\u767A\\\\\\u51B7\\u8535\\u5EAB\\u5728\\u5EAB\\u7BA1\\u7406\\\\git\\\\front\\\\src\\\\pages\\\\LoginPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { CONSTANTS } from \"../constants\";\nimport { API_ENDPOINTS, WEB_ENDPOINTS } from \"../endpoint\";\nimport LoginForm from \"./form/LoginForm\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = () => {\n  _s();\n  const formInput = {\n    name: \"\",\n    password: \"\"\n  };\n  const navigate = useNavigate(); // 画面遷移用\n  const [formdata, setFormdata] = useState(formInput);\n  const [apiError, setApiError] = useState(\"\");\n  const updateFormdata = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormdata({\n      ...formdata,\n      [name]: value\n    });\n  };\n\n  // API呼び出し\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const res = await axios.post(API_ENDPOINTS.LOGIN, formdata);\n      if (res.data.result_code == CONSTANTS.SUCCESS) {\n        navigate(WEB_ENDPOINTS.HOME);\n      }\n    } catch (err) {\n      if (err.response.status == CONSTANTS.VALIDATION_ERROR) {\n        setApiError(err.response.data);\n      }\n      console.error(err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(LoginForm, {\n    formdata: formdata,\n    updateFormdata: updateFormdata,\n    apiError: apiError,\n    handleLogin: handleLogin\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(LoginPage, \"X8K2CbRdnK2V/tbIkWTbtHMpoWE=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nexport default LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useNavigate","CONSTANTS","API_ENDPOINTS","WEB_ENDPOINTS","LoginForm","axios","jsxDEV","_jsxDEV","LoginPage","_s","formInput","name","password","navigate","formdata","setFormdata","apiError","setApiError","updateFormdata","e","value","target","handleLogin","preventDefault","res","post","LOGIN","data","result_code","SUCCESS","HOME","err","response","status","VALIDATION_ERROR","console","error","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/riku3/OneDrive/デスクトップ/アプリ開発/冷蔵庫在庫管理/git/front/src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { CONSTANTS } from \"../constants\";\r\nimport { API_ENDPOINTS, WEB_ENDPOINTS } from \"../endpoint\";\r\nimport LoginForm from \"./form/LoginForm\";\r\nimport axios from 'axios';\r\n\r\nconst LoginPage = () => {\r\n    const formInput = {\r\n        name: \"\",\r\n        password: \"\"\r\n    }\r\n    const navigate = useNavigate(); // 画面遷移用\r\n    const [formdata, setFormdata] = useState(formInput);\r\n    const [apiError, setApiError] = useState(\"\");\r\n\r\n    const updateFormdata = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormdata({\r\n            ...formdata,\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    // API呼び出し\r\n    const handleLogin = async (e) => {\r\n        e.preventDefault();\r\n        try {\r\n            const res = await axios.post(API_ENDPOINTS.LOGIN, formdata);\r\n            if (res.data.result_code == CONSTANTS.SUCCESS) {\r\n                navigate(WEB_ENDPOINTS.HOME);\r\n            }\r\n        } catch (err) {\r\n            if (err.response.status == CONSTANTS.VALIDATION_ERROR) {\r\n                setApiError(err.response.data);\r\n            }\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <LoginForm\r\n            formdata={formdata}\r\n            updateFormdata={updateFormdata}\r\n            apiError={apiError}\r\n            handleLogin={handleLogin}\r\n        />\r\n    );\r\n};\r\n\r\nexport default LoginPage;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,aAAa,EAAEC,aAAa,QAAQ,aAAa;AAC1D,OAAOC,SAAS,MAAM,kBAAkB;AACxC,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpB,MAAMC,SAAS,GAAG;IACdC,IAAI,EAAE,EAAE;IACRC,QAAQ,EAAE;EACd,CAAC;EACD,MAAMC,QAAQ,GAAGb,WAAW,CAAC,CAAC,CAAC,CAAC;EAChC,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGhB,QAAQ,CAACW,SAAS,CAAC;EACnD,MAAM,CAACM,QAAQ,EAAEC,WAAW,CAAC,GAAGlB,QAAQ,CAAC,EAAE,CAAC;EAE5C,MAAMmB,cAAc,GAAIC,CAAC,IAAK;IAC1B,MAAM;MAAER,IAAI;MAAES;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAChCN,WAAW,CAAC;MACR,GAAGD,QAAQ;MACX,CAACH,IAAI,GAAGS;IACZ,CAAC,CAAC;EACN,CAAC;;EAED;EACA,MAAME,WAAW,GAAG,MAAOH,CAAC,IAAK;IAC7BA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClB,IAAI;MACA,MAAMC,GAAG,GAAG,MAAMnB,KAAK,CAACoB,IAAI,CAACvB,aAAa,CAACwB,KAAK,EAAEZ,QAAQ,CAAC;MAC3D,IAAIU,GAAG,CAACG,IAAI,CAACC,WAAW,IAAI3B,SAAS,CAAC4B,OAAO,EAAE;QAC3ChB,QAAQ,CAACV,aAAa,CAAC2B,IAAI,CAAC;MAChC;IACJ,CAAC,CAAC,OAAOC,GAAG,EAAE;MACV,IAAIA,GAAG,CAACC,QAAQ,CAACC,MAAM,IAAIhC,SAAS,CAACiC,gBAAgB,EAAE;QACnDjB,WAAW,CAACc,GAAG,CAACC,QAAQ,CAACL,IAAI,CAAC;MAClC;MACAQ,OAAO,CAACC,KAAK,CAACL,GAAG,CAAC;IACtB;EACJ,CAAC;EAED,oBACIxB,OAAA,CAACH,SAAS;IACNU,QAAQ,EAAEA,QAAS;IACnBI,cAAc,EAAEA,cAAe;IAC/BF,QAAQ,EAAEA,QAAS;IACnBM,WAAW,EAAEA;EAAY;IAAAe,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5B,CAAC;AAEV,CAAC;AAAC/B,EAAA,CAzCID,SAAS;EAAA,QAKMR,WAAW;AAAA;AAAAyC,EAAA,GAL1BjC,SAAS;AA2Cf,eAAeA,SAAS;AAAC,IAAAiC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}